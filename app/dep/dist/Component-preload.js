//@ui5-bundle dep/Component-preload.js
sap.ui.require.preload({
	"dep/Component.js":function(){
sap.ui.define(["sap/fe/core/AppComponent"],function(e){"use strict";return e.extend("dep.Component",{metadata:{manifest:"json"}})});
},
	"dep/ext/controller/ListEmail.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/ControllerExtension"],function(e){"use strict";var t="divya.sharma@peolsolutions.com";return e.extend("dep.ext.controller.ListEmail",{override:{onInit:function(){},routing:{onBeforeBinding:async function(){debugger;var e=this.base.getExtensionAPI().getModel();if(!e){console.error("Model is not available.");return}var i;if(typeof e.getServiceUrl==="function"){i=e.getServiceUrl();console.log("Service URL:",i)}else{console.error("Unable to determine the service URL.");return}try{const e=await new Promise((e,t)=>{jQuery.ajax({url:i+"/authorisation",method:"GET",dataType:"json",success:function(t){e(t)},error:function(e,i,n){t(new Error(i+": "+n))}})});console.log("Fetched data:",e);if(e&&e.value&&Array.isArray(e.value)){const i=e.value.filter(e=>e.Email===t).map(e=>e.role)[0];debugger;console.log(i);if(i!=="Admin"){this.base.getView().findAggregatedObjects(true,function(e){return e.isA("sap.m.Button")&&(e.getId().includes("Create")||e.getId().includes("Delete"))}).forEach(function(e){e.setVisible(false)});this.base.getView().findAggregatedObjects(true,function(e){return e.isA("sap.m.Button")&&(e.getId().includes("Draft")||e.getId().includes("Save"))}).forEach(function(e){e.setVisible(false)});this.base.getView().findAggregatedObjects(true,function(e){return e.isA("sap.m.Input")&&e.getId().includes("Draft")}).forEach(function(e){e.setEditable(false)});this.base.getView().findAggregatedObjects(true,function(e){return e.isA("sap.m.Select")&&e.getId().includes("EditingStatus")}).forEach(function(e){e.setSelectedKey("All");e.setEnabled(false)});const e=this.base.getView().getContent()[0].mAggregations.content.mAggregations.content.mAssociations.filter;var n=sap.ui.getCore().byId(e);var r={$editState:[{operator:"DRAFT_EDIT_STATE",values:["ALL_HIDING_DRAFTS","All (Hiding Drafts)"],validated:"Validated"}]};n.setFilterConditions(r)}if(i===undefined){this.base.getView().findAggregatedObjects(true,function(e){if(e.isA("sap.fe.macros.controls.FilterBar")){e.setVisible(false)}})}}}catch(e){console.error("Error fetching data",e)}}}}})});
},
	"dep/ext/controller/UserObj.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/ControllerExtension"],function(e){"use strict";var r="divya.sharma@peolsolutions.com";return e.extend("dep.ext.controller.UserObj",{override:{onInit:function(){debugger},routing:{onBeforeBinding:async function(){debugger;var e=this.base.getExtensionAPI().getModel();if(!e){console.error("Model is not available.");return}var t;if(typeof e.getServiceUrl==="function"){t=e.getServiceUrl();console.log("Service URL:",t)}else{console.error("Unable to determine the service URL.");return}try{const e=await new Promise((e,r)=>{jQuery.ajax({url:t+"/authorisation",method:"GET",dataType:"json",success:function(r){e(r)},error:function(e,t,n){r(new Error(t+": "+n))}})});const c=await new Promise((e,r)=>{jQuery.ajax({url:t+"/Department",method:"GET",dataType:"json",success:function(r){e(r)},error:function(e,t,n){r(new Error(t+": "+n))}})});debugger;console.log("Fetched auth data:",e);console.log("Fetched dept data:",c);if(e&&e.value&&Array.isArray(e.value)&&c&&c.value&&Array.isArray(c.value)){var n=e.value.find(e=>e.Email===r);if(!n){debugger;console.error("User not found in authorisation data.");return}var o=n.role;console.log(`User Role: ${o}`);var i=this.getView().getBindingContext();var a=i.getPath();var s=null;var u=a.match(/DepartmentID='([^']+)'/);if(u&&u[1]){s=u[1]}if(o!==s&&o!=="Admin"){this.base.getView().findAggregatedObjects(true,function(e){return e.isA("sap.m.Button")}).forEach(function(e){if(e.getId().includes("Edit")||e.getId().includes("Delete")||e.getId().includes("Create")){e.setVisible(false)}})}if(o!=="Admin"){debugger;this.base.getView().findAggregatedObjects(true,function(e){return e.isA("sap.m.Input")&&e.getBindingPath("value")==="DepartmentName"}).forEach(function(e){e.setEditable(false)})}}}catch(e){console.error("Error fetching data",e)}}}}})});
},
	"dep/i18n/i18n.properties":'# This is the resource bundle for dep\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=dep app\n\n#YDES: Application description\nappDescription=An SAP Fiori application.\n\n#XFLD,30\nflpTitle=department\n\n#XFLD,24\nflpTitle=Hire Dep\n',
	"dep/manifest.json":'{"_version":"1.59.0","sap.app":{"id":"dep","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"0.0.1"},"title":"{{Department App}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:lrop","version":"1.14.1","toolsId":"c71c9888-1245-447a-a13b-5a48147f4077"},"dataSources":{"mainService":{"uri":"odata/v4/my/","type":"OData","settings":{"annotations":[],"odataVersion":"4.0"}}},"crossNavigation":{"inbounds":{"dep-display":{"semanticObject":"dep","action":"display","title":"{{flpTitle}}","signature":{"parameters":{},"additionalParameters":"allowed"}},"dep1-display":{"semanticObject":"dep1","action":"display","title":"{{flpTitle}}","signature":{"parameters":{},"additionalParameters":"allowed"}}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":true,"dependencies":{"minUI5Version":"1.126.1","libs":{"sap.m":{},"sap.ui.core":{},"sap.ushell":{},"sap.fe.templates":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"dep.i18n.i18n"}},"":{"dataSource":"mainService","preload":true,"settings":{"operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}},"@i18n":{"type":"sap.ui.model.resource.ResourceModel","uri":"i18n/i18n.properties"}},"resources":{"css":[]},"routing":{"config":{},"routes":[{"pattern":":?query:","name":"DepartmentList","target":"DepartmentList"},{"pattern":"Department({key}):?query:","name":"DepartmentObjectPage","target":"DepartmentObjectPage"},{"pattern":"Department({key})/deptToStudent({key2}):?query:","name":"Department_deptToStudentObjectPage","target":"Department_deptToStudentObjectPage"},{"pattern":"Department({key})/deptToTeacher({key2}):?query:","name":"Department_deptToTeacherObjectPage","target":"Department_deptToTeacherObjectPage"}],"targets":{"DepartmentList":{"type":"Component","id":"DepartmentList","name":"sap.fe.templates.ListReport","options":{"settings":{"contextPath":"/Department","variantManagement":"None","navigation":{"Department":{"detail":{"route":"DepartmentObjectPage"}}},"controlConfiguration":{"@com.sap.vocabularies.UI.v1.LineItem":{"tableSettings":{"type":"ResponsiveTable"}}}}}},"DepartmentObjectPage":{"type":"Component","id":"DepartmentObjectPage","name":"sap.fe.templates.ObjectPage","options":{"settings":{"editableHeaderContent":false,"contextPath":"/Department","navigation":{"deptToStudent":{"detail":{"route":"Department_deptToStudentObjectPage"}},"deptToTeacher":{"detail":{"route":"Department_deptToTeacherObjectPage"}}},"controlConfiguration":{"DeptoCollLec/@com.sap.vocabularies.UI.v1.LineItem#Lecturer":{"tableSettings":{"selectAll":true,"quickVariantSelection":{"paths":[{}]}}}}}}},"Department_deptToStudentObjectPage":{"type":"Component","id":"Department_deptToStudentObjectPage","name":"sap.fe.templates.ObjectPage","options":{"settings":{"contextPath":"/Department/deptToStudent","navigation":{}}}},"Department_deptToTeacherObjectPage":{"type":"Component","id":"Department_deptToTeacherObjectPage","name":"sap.fe.templates.ObjectPage","options":{"settings":{"contextPath":"/Department/deptToTeacher","navigation":{}}}}}},"extends":{"extensions":{"sap.ui.controllerExtensions":{"sap.fe.templates.ListReport.ListReportController#dep::DepartmentList":{"controllerName":"dep.ext.controller.ListEmail"},"sap.fe.templates.ObjectPage.ObjectPageController#dep::DepartmentObjectPage":{"controllerName":"dep.ext.controller.UserObj"}}}}},"sap.fiori":{"registrationIds":[],"archeType":"transactional"},"sap.cloud":{"public":true,"service":"lecturerapp"}}'
});
//# sourceMappingURL=Component-preload.js.map
